const defaultLessons = [
    {
        title: "The Olive Grove of Secrets",
        content: {
            original: `A quiet girl named Lola lived in a small village in southern Spain. Her family owned an ancient olive grove that had been passed down for generations. Lola's father, who loved poetry and the land, had taught her to care for the twisted trees. But when he died suddenly, the grove began to wither, and the family struggled to pay their debts.

While searching her father's old desk one afternoon, Lola found a leather journal hidden beneath a stack of yellowed papers. Inside were sketches of the grove and a mysterious sentence: "Beneath the oldest tree lies the truth we bury." Her hands trembled. Could this be a clue to a secret her father had left behind?

That night, Lola crept into the grove with a shovel. The moon cast long shadows over the gnarled trees as she dug beneath the largest olive tree, its branches clawing at the sky. Her shovel struck something hard—a metal box. Inside was a bundle of letters, a faded photograph of her father as a young man, and a small bag of gold coins.

The letters told a story Lola had never heard. Decades ago, her grandfather had hidden the coins during the Spanish Civil War to protect the family. But her father had chosen to leave the treasure untouched, writing, "Some secrets are better left as roots. The grove is our true wealth."

Lola stared at the coins. They could save her family from poverty. But her father's words echoed in her mind. The following day, she showed the box to her mother, who wept and hugged her tightly. "Your father was a dreamer," her mother said, "but he taught us that dignity grows slowly, like these trees."

In the end, Lola returns the coins to the earth. She poured her energy into reviving the grove, pruning the trees and selling olives at the market. Slowly, the branches grew strong again, heavy with fruit.

Years later, when Lola won a literary prize for a novel inspired by her father's journal, reporters asked about the "secret" to her success. She smiled and said, "The best stories are not those we dig up, but those we plant with patience."`,
            translated: ""
        },
        languages: {
            source: "en",
            target: "es"
        },
        category: "daily",
        difficulty: "intermediate",
        tags: ["story", "family", "secrets", "spain"]
    },
    {
        title: "The Day of Failure",
        content: {
            original: `In Finland, people have a special day, not for success, but for failure. It is called the Day of Failure, or "Epäonnistumisen Päivä" in Finnish, and it is observed annually on October 13th. This day is a time to share stories of mistakes and things that went wrong.

The idea for this day started in 2010 with a group of students in Finland. They observed that many people were hesitant to try new things, such as starting a business, because they were afraid of failure. The students wanted to change this. They believed that making mistakes is a regular part of life and an important step to learn and succeed.

On the Day of Failure, people are encouraged to discuss their mistakes openly and honestly. Famous people often share stories about the times they failed before achieving success. This helps everyone understand that failure is not something to be ashamed of. Instead, it is a chance to learn.

Imagine a boy named Leo who wants to bake a cake. He tries his best, but he burns it. On the Day of Failure, he can share a picture of his burnt cake. His friends will not laugh at him. They will cheer for him because he made an effort. They may share their own stories of burnt cakes or other mistakes.

This special day teaches an important lesson: it is okay not to be perfect. Every mistake is a learning experience. By sharing our failures, we can become braver and more willing to try again. The Day of Failure reminds us that minor setbacks often mark the path to success, and that is perfectly fine.

In Finland, October 13th marks the annual "Epäonnistumisen Päivä," or Day of Failure. This unique observance isn't about celebrating success, but rather about openly sharing stories of mistakes and setbacks.

The concept originated in 2010 with a group of Finnish students. They noticed that many people were hesitant to pursue new ventures, like starting a business, due to a fear of failure. The students aimed to alter this perspective, believing that making mistakes is a natural part of life and crucial for learning and eventual success.

On the Day of Failure, individuals are encouraged to discuss their errors with honesty and transparency. Even famous figures often share their past failures before achieving success, demonstrating that failure is not a source of shame, but rather an opportunity for growth.

Consider Leo, a boy who attempts to bake a cake but accidentally burns it. On the Day of Failure, he can share a photo of his burnt cake. His friends, instead of laughing, will applaud his effort and might even share their own stories of culinary mishaps or other mistakes.

This special day imparts a vital lesson: it's perfectly acceptable to be imperfect. Every mistake serves as a learning experience. By sharing our failures, we cultivate courage and a greater willingness to try again. The Day of Failure reminds us that minor setbacks are often stepping stones on the path to success, and that is entirely normal.`,
            translated: ""
        },
        languages: {
            source: "en",
            target: "fi"
        },
        category: "daily",
        difficulty: "intermediate",
        tags: ["culture", "finland", "learning", "failure"]
    },
    {
        title: "Lessons from Ikaria: Maria's Journey to a Well-Lived Life",
        content: {
            original: `Maria was a busy city worker who always felt stressed and tired. She read about "Blue Zones," places where people live much longer than average, often reaching 100 years old! One of these places was Ikaria, a small Greek island, which Maria decided to visit.

When she arrived, she noticed things were very different. People didn't rush. They walked slowly, talked to each other in the streets, and seemed very relaxed. Maria met Yiorgos, an old man who lived in a small village. He invited her for coffee.

Yiorgos's house was simple, with a small garden. He grew his vegetables and fruits. He told Maria that most people in Ikaria grew their food. They ate lots of vegetables, fruits, beans, and whole grains. They ate very little meat and processed food. This healthy diet was one of the secrets to their long lives.

After coffee, Yiorgos took Maria for a walk. They walked up a hill to visit his friend, Eleni. The walk was a bit tiring for Maria, but Yiorgos, even though he was old, walked easily. He explained that people in Ikaria walk a lot every day. They also worked in their gardens, which kept them active. Regular, natural exercise was another key to their longevity.

When they arrived at Eleni's house, other villagers were there, chatting and laughing. Maria noticed that everyone seemed to know each other. Yiorgos explained that strong social connections were very important in Ikaria. People spent time with their families and friends. They helped each other and felt a sense of belonging. This strong community support helped reduce stress and improve their well-being.

Maria spent several days in Ikaria. She learned that the Ikarians didn't have a strict schedule. They woke up naturally, worked in their gardens, spent time with friends, and took naps in the afternoon. They lived a simple, relaxed life connected to nature and their community.

Before leaving, Maria thanked Yiorgos. She realized the Ikarians' long lives weren't just about diet and exercise. It was about their whole lifestyle. It was about living purposefully, with strong social connections, regular physical activity, and a balanced diet. Maria decided to make some changes in her life, to live a little more like the people of Ikaria. She understood that even small changes could make a big difference in her health and well-being.`,
            translated: ""
        },
        languages: {
            source: "en",
            target: "el"
        },
        category: "daily",
        difficulty: "intermediate",
        tags: ["health", "lifestyle", "greece", "blue zones", "longevity"]
    },
    {
        title: "The Light Inside",
        content: {
            original: `Maria sat by her window every morning, but she never saw the sunrise. Her mind was always busy with worry. "I am not good enough," she told herself. "I cannot do anything right." These thoughts came to her mind every day, like dark clouds that never went away.

Maria worked at a small coffee shop. She was always tired and sad. Her boss was not kind to her. Her friends no longer called her. She felt alone in the world. Every night, she went to bed thinking, "Tomorrow will be the same."

One day, an old woman came to the coffee shop. She had bright eyes and a warm smile. "You look sad, dear," the woman said to Maria. "What is wrong?"

Maria did not want to talk, but something about the woman felt safe. "I think I am not a good person," Maria said quietly. "Nothing good ever happens to me."

The old woman smiled. "Do you know what I think? I think you have forgotten who you really are. You are not your sad thoughts. You are not your fears. You are much more than that."

"But how can I change?" Maria asked. "These thoughts come to my mind every day."

"Start small," the woman said. "Every morning, look in the mirror and say one good thing about yourself. Write down three things that make you happy. When a bad thought comes, ask yourself: 'Is this thought helping me or hurting me?'"

Maria felt something new in her heart. It was hope. The next morning, Maria looked in the mirror. "I have kind eyes," she said. It felt strange, but good. She wrote in a notebook: "I like the smell of coffee. I like helping people. I like the color blue."

Day by day, Maria practiced. When her mind said, "You are not good enough," she asked, "Is this helping me?" The answer was always no. So, she changed the thought to, "I am learning and growing."

Slowly, Maria began to change. She smiled more. She talked to customers with kindness. She made new friends. Her boss noticed her positive energy and gave her more hours at work.

One year later, Maria sat by her window again. This time, she watched the beautiful sunrise. She felt peace in her heart. "I am enough," she said to herself. "I am strong. I am free."

Maria had learned the most critical lesson: she could change her mind, and when she did, she changed her life. The light was always inside her. She just needed to remember how to see it.`,
            translated: ""
        },
        languages: {
            source: "en",
            target: "en"
        },
        category: "daily",
        difficulty: "beginner",
        tags: ["mental health", "self-improvement", "positivity", "mindset"]
    },
    {
        title: "The Dancing Girl of Izu",
        content: {
            original: `This lesson is based on a famous short story by Yasunari Kawabata, a Japanese writer who won the Nobel Prize in Literature in 1968. The story teaches us about the importance of friendship, the struggle with loneliness, and how meeting new people can transform our lives.

A twenty-year-old university student from Tokyo feels very lonely and sad. He decides to take a trip to the Izu Peninsula, a stunning mountainous region in Japan, during his summer vacation. He hopes the journey will help him feel better.

While walking through the mountains, the student meets a group of traveling musicians. They are a family from Oshima Island who perform traditional Japanese music and dance. The group includes a man named Eikichi, his wife, Chiyoko, his mother-in-law, a maid, and his fourteen-year-old daughter, Kaoru, who is a talented dancer and drummer.

The student is impressed by Kaoru's beauty and innocence. He decides to travel with the family for several days. They are very kind to him and invite him to watch their performances at local inns. The student enjoys their company and begins to feel less lonely. He realizes that these simple, honest people have taught him something important about human kindness.

During his time with the family, the student learns about their hard life as traveling performers. Despite their poverty, they remain cheerful and generous. Kaoru's grandmother even invites him to visit their home during the winter holidays. However, she is also protective of young Kaoru and doesn't allow her to go to the cinema with the student.

After several days together, the student must return to Tokyo for his studies. At the port in Shimoda, he boards a boat while Eikichi and Kaoru come to say goodbye. Kaoru is crying because she is sad to see him leave. On the boat, the student also begins to cry, but his tears are different. He feels sad about leaving his new friends, but he also feels relief and happiness. The journey has changed him. He is no longer the same lonely, melancholic young man who started the trip.

The story demonstrates that human connections can alleviate loneliness and foster personal growth. At times, the kindness of strangers can have a profoundly positive impact on our lives. Kawabata's beautiful writing captures the essence of Japanese culture while telling a universal story about the importance of compassion and friendship in our lives.`,
            translated: ""
        },
        languages: {
            source: "en",
            target: "ja"
        },
        category: "daily",
        difficulty: "intermediate",
        tags: ["literature", "japan", "friendship", "kawabata", "loneliness"]
    },
    {
        title: "The Lake of the Returned Sword",
        content: {
            original: `A long time ago, Vietnam was in a difficult war against invaders. The people were not free, and they hoped for a hero. A brave and kind man named Le Loi decided to fight for his country's freedom.

One day, while he was near a beautiful green lake, a magical golden turtle suddenly appeared from the water. The turtle was a divine messenger. It gave Le Loi a very special, mighty sword. The turtle told him this sword would help him save his people.

Le Loi took the magical sword and led the Vietnamese army. The sword gave him the strength of many men, and he won every battle. After ten long years of fighting, the war was finally over. The invaders left, and Vietnam was once again a peaceful and free country. The people were delighted and made Le Loi their new emperor.

One year after his great victory, Emperor Le Loi went boating on the same green lake. He wanted to thank the spirits of the lake. Suddenly, the golden turtle appeared again. It swam to his boat and said, "The war is over. Please return the sword to the Dragon King." Le Loi understood. He was very grateful for the help. He respectfully gave the sword back to the turtle. The turtle took the sword in its mouth and disappeared deep into the water.

To remember this important event, Emperor Le Loi named the lake "Hoan Kiem Lake." In Vietnamese, this means "The Lake of the Returned Sword."`,
            translated: ""
        },
        languages: {
            source: "en",
            target: "vi"
        },
        category: "daily",
        difficulty: "beginner",
        tags: ["legend", "vietnam", "history", "folklore", "hero"]
    },
    {
        title: "New Billionaires from 2024-2025",
        content: {
            original: `Welcome to our English lesson! Today, we will read about new billionaires from 2024 and 2025. A billionaire is an individual with a net worth exceeding one billion dollars. These people are very successful, but they did not finish college. They are college dropouts. Let's learn their amazing stories.

The Story of Lucy Guo and Alexandr Wang

Lucy Guo and Alexandr Wang are friends who started a company together. Lucy attended Carnegie Mellon University in Pennsylvania, and Alex attended MIT in Massachusetts. They were both brilliant students who had a passion for computers. However, they had a big idea for a company centered on Artificial Intelligence, or AI. AI is a technology that enables computers to think and act like humans.

They decided to leave college to build their company. They called it Scale AI. Their parents were not happy at first because education is critical to families. But Lucy and Alex worked very hard every day. They received assistance from a special program that provides funding to young entrepreneurs. In 2024, Meta, the company that owns Facebook, acquired Scale AI for $29 billion. Lucy and Alex became billionaires overnight. Lucy became the youngest self-made billionaire in the world at age 30.

The Story of Dylan Field

Dylan Field had a creative idea for a new tool for designers. Designers are individuals who plan the visual appearance of websites, apps, and products. He wanted to help them collaborate online from different locations. He decided to leave college to follow his dream. He started a company called Figma in 2012.

For many years, Dylan has worked hard to improve Figma. The tool gained immense popularity among designers worldwide. Companies like Google, Netflix, and Airbnb use Figma. In 2025, his company went public on the stock market. This means people could buy shares of his company. Dylan became a billionaire at age 33. His story shows that a creative idea and patience can lead to great success.`,
            translated: ""
        },
        languages: {
            source: "en",
            target: "en"
        },
        category: "daily",
        difficulty: "intermediate",
        tags: ["business", "technology", "success", "entrepreneurship", "ai"]
    },
    {
        title: "The Quiet Man",
        content: {
            original: `My father lives in a small house in a small town. He is a quiet man. For forty years, he worked at the local factory. His hands are strong and rough from his work. He does not use many words. His world is simple: work, home, and the garden in the back.

I live in a big city. I am a teacher. My world is full of books and words. I talk all day to my students. When I come home to my apartment, it is quiet. Sometimes, in the quiet, I think of my father.

I remember when I was a little girl. My father came home from the factory, his face tired. He would sit in his chair and read the newspaper. We did not talk much, but I felt safe. He was always there.

He wanted me to have a different life. "Go to school, little one," he would say. "Learn everything." He worked hard to give me that chance. He was very proud when I went to university. He told everyone in the town, "My daughter is a smart girl."

Now, when I visit him, things are different. I talk about my life in the city, my job, and my friends. He listens quietly. He asks simple questions, but I know he does not understand my world. It is a world he gave me, but it is not his world.

There is a distance between us now. It is not a result of anger or a lack of love. It is a quiet space made of different lives and different words. He is a man of his place, the small town and the factory. I am a woman of another place, the city and the classroom.

Sometimes, I feel sad about this distance. But I also feel a deep love. He gave me the world he could not have. And in his quiet way, I know he is still proud. He is my father, the quiet man who gave me my voice.`,
            translated: ""
        },
        languages: {
            source: "en",
            target: "en"
        },
        category: "daily",
        difficulty: "intermediate",
        tags: ["family", "relationships", "generation gap", "father", "gratitude"]
    },
    {
        title: "The Tale of Two Twins",
        content: {
            original: `Once, there were two identical twins named Leo and Sam. Because they were identical twins, they had the same genes. Think of genes as a big instruction book for your body. Leo and Sam had the exact same book.

As they grew up, they made different choices. Leo loved to play outside. He ran, jumped, and climbed trees. He ate fruits, vegetables, and healthy food. At night, he slept for many hours. Leo was making good choices.

Sam was different. He enjoyed staying inside and playing video games. He ate candy, chips, and fast food. He often stayed up late watching movies. Sam was making choices that were not so healthy.

Years passed. Leo grew up to be strong and full of energy. He was rarely sick. His body felt good.

Sam, however, often felt tired. He got sick more easily than his brother. He was not as strong as Leo.

One day, their mother took them to a wise doctor. "Doctor," she asked, "why are my twins so different? They have the same genes."

The doctor smiled. "Your sons have the same instruction book," she said, "but they are reading different pages. This is because of epigenetics."

She explained, "Our choices are like little notes we put on the pages of our instruction book. Good choices, like eating healthy food and exercising, telling our body to read the 'healthy and strong' pages. These notes can turn good genes on."

"Bad choices," she continued, "like eating junk food and not sleeping, tell our body to read the 'tired and weak' pages. These notes can turn good genes off."

Leo and Sam understood. Their genes did not change, but their choices changed how their genes worked. They learned that even with the same instruction book, the story of your health can be different. You have the power to choose which pages to read.`,
            translated: ""
        },
        languages: {
            source: "en",
            target: "en"
        },
        category: "daily",
        difficulty: "beginner",
        tags: ["science", "health", "epigenetics", "choices", "lifestyle"]
    }
]

const Lesson = require('./src/models/Lesson');

async function createDefaultLessonsForUser(userId, targetLanguage = 'es') {
    try {
        console.log(`Creating default lessons for user ${userId}`);
        
        // Give all users all default lessons regardless of target language
        const createdLessons = await Promise.all(
            defaultLessons.map((lessonTemplate, index) => {
                const lesson = new Lesson({
                    user: userId,
                    title: lessonTemplate.title,
                    content: lessonTemplate.content,
                    languages: lessonTemplate.languages,
                    category: lessonTemplate.category,
                    difficulty: lessonTemplate.difficulty,
                    tags: lessonTemplate.tags,
                    order: index
                });
                return lesson.save();
            })
        );

        console.log(`Successfully created ${createdLessons.length} default lessons for user ${userId}`);
        return createdLessons;
    } catch (error) {
        console.error('Error creating default lessons:', error);
        throw error;
    }
}

module.exports = { createDefaultLessonsForUser };
