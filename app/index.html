<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnyLingo - Language Learning Application</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="favicon.svg">
    
    <!-- Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="header p-4 shadow-md">
        <div class="container mx-auto flex flex-wrap items-center justify-between">
            <div class="flex items-center">
                <h1 class="text-2xl font-bold text-white">AnyLingo</h1>
            </div>
            
            <div class="flex flex-wrap items-center space-x-2 md:space-x-4 mt-2 md:mt-0">
                <button id="createLessonBtn" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md shadow transition-colors">
                    Create a New Lesson
                </button>
                
                <button id="contentBtn" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md shadow transition-colors">
                    Content
                </button>
                
                <button id="readAloudBtn" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md shadow transition-colors">
                    ReadAloud
                </button>
                
                <button id="translateBtn" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md shadow transition-colors">
                    Translation
                </button>
                
                <button id="drillsBtn" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md shadow transition-colors">
                    Drill Exercises
                </button>
                
                <button id="recordBtn" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md shadow transition-colors">
                    Record
                </button>
                
                <button id="logoutBtn" class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md shadow transition-colors ml-4">
                    Logout
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto p-4 mt-8">
        <!-- Home/Welcome Section -->
        <section id="home" class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md">
            <h2 class="text-2xl font-bold mb-6 text-center">Welcome to AnyLingo</h2>
            <p class="text-center mb-6">Develop fluency in multiple foreign languages</p>
            
            <div id="statusMessage" class="mb-6 p-4 rounded-md bg-green-100 text-green-700 text-center">
                AnyLingo is ready to use! Click on any of the buttons above to get started.
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                <div class="border p-4 rounded-md shadow-sm hover:shadow-md transition-shadow bg-blue-50">
                    <h3 class="text-xl font-semibold mb-2 text-blue-700">Create Lessons</h3>
                    <p class="text-gray-600 mb-4">
                        Create new language lessons by pasting text from any source. AnyLingo preserves the original text formatting.
                    </p>
                    <button class="text-blue-600 hover:text-blue-800" onclick="showSection('createLesson')">Create a lesson →</button>
                </div>
                
                <div class="border p-4 rounded-md shadow-sm hover:shadow-md transition-shadow bg-green-50">
                    <h3 class="text-xl font-semibold mb-2 text-green-700">Manage Content</h3>
                    <p class="text-gray-600 mb-4">
                        Access all your saved lessons in the Content folder. View, edit, or delete your lessons.
                    </p>
                    <button class="text-green-600 hover:text-green-800" onclick="showSection('content')">View content →</button>
                </div>
                
                <div class="border p-4 rounded-md shadow-sm hover:shadow-md transition-shadow bg-blue-50">
                    <h3 class="text-xl font-semibold mb-2 text-blue-700">ReadAloud</h3>
                    <p class="text-gray-600 mb-4">
                        Listen to your lessons with text-to-speech technology. Control voice, speed, and playback options.
                    </p>
                    <button class="text-blue-600 hover:text-blue-800" onclick="showSection('readAloud')">Use ReadAloud →</button>
                </div>
                
                <div class="border p-4 rounded-md shadow-sm hover:shadow-md transition-shadow bg-green-50">
                    <h3 class="text-xl font-semibold mb-2 text-green-700">Translation</h3>
                    <p class="text-gray-600 mb-4">
                        Translate your lessons between multiple languages. Choose to translate sentences, paragraphs, or entire lessons.
                    </p>
                    <button class="text-green-600 hover:text-green-800" onclick="showSection('translate')">Translate content →</button>
                </div>
                
                <div class="border p-4 rounded-md shadow-sm hover:shadow-md transition-shadow bg-blue-50">
                    <h3 class="text-xl font-semibold mb-2 text-blue-700">Drill Exercises</h3>
                    <p class="text-gray-600 mb-4">
                        Practice with interactive drills designed to improve your language fluency and comprehension.
                    </p>
                    <button class="text-blue-600 hover:text-blue-800" onclick="showSection('drills')">Start drills →</button>
                </div>
                
                <div class="border p-4 rounded-md shadow-sm hover:shadow-md transition-shadow bg-green-50">
                    <h3 class="text-xl font-semibold mb-2 text-green-700">Recording</h3>
                    <p class="text-gray-600 mb-4">
                        Record yourself reading lessons aloud. Play back recordings to assess your pronunciation.
                    </p>
                    <button class="text-green-600 hover:text-green-800" onclick="showSection('record')">Record yourself →</button>
                </div>
            </div>
        </section>

        <!-- Create Lesson Section -->
        <section id="createLesson" class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md hidden">
            <h2 class="text-2xl font-bold mb-6">Create a New Lesson</h2>
            
            <div class="mb-6">
                <label for="lessonTitle" class="block text-sm font-medium text-gray-700 mb-2">
                    Lesson Title
                </label>
                <input
                    type="text"
                    id="lessonTitle"
                    class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="Enter lesson title"
                >
            </div>
            
            <div class="mb-6">
                <label for="lessonContent" class="block text-sm font-medium text-gray-700 mb-2">
                    Lesson Content
                </label>
                <textarea
                    id="lessonContent"
                    class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-64"
                    placeholder="Paste your lesson content here. You can paste text created by AI or copied from the Internet."
                ></textarea>
            </div>
            
            <div id="createLessonMessage" class="mb-6 p-4 rounded-md hidden"></div>
            
            <div class="flex justify-end space-x-4">
                <button
                    id="saveLessonBtn"
                    class="px-6 py-3 btn-green text-white rounded-md shadow transition-colors"
                >
                    Save Lesson
                </button>
                <button
                    id="createNewLessonBtn"
                    class="px-6 py-3 btn-blue text-white rounded-md shadow transition-colors"
                >
                    Create New Lesson
                </button>
            </div>
        </section>

        <!-- Content Section -->
        <section id="content" class="max-w-6xl mx-auto bg-white p-8 rounded-lg shadow-md hidden">
            <h2 class="text-2xl font-bold mb-6">Content Folder</h2>
            
            <div id="contentMessage" class="mb-6 p-4 rounded-md hidden"></div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="md:col-span-1 border-r pr-6">
                    <h3 class="text-lg font-semibold mb-4">Your Lessons</h3>
                    
                    <div class="mb-4">
                        <button
                            id="createNewLessonFromContentBtn"
                            class="w-full px-4 py-2 btn-green text-white rounded-md shadow transition-colors"
                        >
                            + Create New Lesson
                        </button>
                    </div>
                    
                    <div id="lessonsList" class="space-y-2">
                        <p class="text-gray-500">No lessons found. Create a new lesson to get started.</p>
                    </div>
                </div>
                
                <div class="md:col-span-2">
                    <h3 id="selectedLessonTitle" class="text-lg font-semibold mb-4">
                        Select a Lesson
                    </h3>
                    
                    <div id="selectedLessonContent" class="border p-4 rounded-md bg-gray-50 h-96 overflow-y-auto">
                        <p class="text-gray-500 text-center">Select a lesson from the list to view its content</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ReadAloud Section -->
        <section id="readAloud" class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md hidden">
            <h2 class="text-2xl font-bold mb-6">ReadAloud</h2>
            
            <h3 id="readAloudLessonTitle" class="text-xl font-semibold mb-4">No lesson loaded</h3>
            
            <div id="detectedLanguage" class="mb-6 p-4 bg-blue-100 text-blue-700 rounded-md hidden">
                Detected language: <span id="languageCode"></span>
            </div>
            
            <div id="speechSynthesisWarning" class="mb-6 p-4 bg-yellow-100 text-yellow-700 rounded-md hidden">
                <p class="font-semibold">Speech Synthesis Not Available</p>
                <p class="mt-2">Your browser may not support speech synthesis, or it may be restricted due to security settings. Try the following:</p>
                <ul class="list-disc pl-5 mt-2">
                    <li>Make sure your browser supports the Web Speech API (Chrome, Edge, and Safari are recommended)</li>
                    <li>Some browsers require user interaction before allowing speech synthesis</li>
                    <li>Try clicking anywhere on the page and then using the ReadAloud feature again</li>
                    <li>Check that your device has speakers or headphones connected and volume is turned up</li>
                </ul>
            </div>
            
            <div class="mb-6">
                <label for="voiceSelect" class="block text-sm font-medium text-gray-700 mb-2">
                    Select Voice
                </label>
                <select
                    id="voiceSelect"
                    class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                    <option value="">Loading voices...</option>
                </select>
            </div>
            
            <div class="mb-6">
                <label for="rateRange" class="block text-sm font-medium text-gray-700 mb-2">
                    Speech Rate: <span id="rateValue">0.7</span>x
                </label>
                <input
                    type="range"
                    id="rateRange"
                    min="0.5"
                    max="2"
                    step="0.1"
                    value="0.7"
                    class="w-full"
                >
            </div>
            
            <div class="mb-6 flex space-x-4">
                <button
                    id="startReadingBtn"
                    class="px-6 py-3 btn-blue text-white rounded-md shadow transition-colors"
                >
                    Start
                </button>
                <button
                    id="pauseReadingBtn"
                    class="px-6 py-3 btn-green text-white rounded-md shadow transition-colors"
                    disabled
                >
                    Pause
                </button>
                <button
                    id="continueReadingBtn"
                    class="px-6 py-3 btn-green text-white rounded-md shadow transition-colors"
                    disabled
                >
                    Continue
                </button>
                <button
                    id="stopReadingBtn"
                    class="px-6 py-3 btn-red text-white rounded-md shadow transition-colors"
                    disabled
                >
                    Stop
                </button>
                <button
                    id="loopReadingBtn"
                    class="px-6 py-3 btn-gray text-white rounded-md shadow transition-colors"
                >
                    Loop OFF
                </button>
            </div>
            
            <div id="readAloudContent" class="border p-4 rounded-md bg-gray-50 h-96 overflow-y-auto">
                <p class="text-gray-500 text-center">No lesson content available</p>
            </div>
        </section>

        <!-- Translation Section -->
        <section id="translate" class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md hidden">
            <h2 class="text-2xl font-bold mb-6">Translation</h2>
            
            <h3 id="translateLessonTitle" class="text-xl font-semibold mb-4">No lesson loaded</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <div>
                    <label for="sourceLanguage" class="block text-sm font-medium text-gray-700 mb-2">
                        Source Language
                    </label>
                    <select
                        id="sourceLanguage"
                        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                        <option value="auto">Auto-detect</option>
                    </select>
                </div>
                
                <div>
                    <label for="targetLanguage" class="block text-sm font-medium text-gray-700 mb-2">
                        Target Language
                    </label>
                    <select
                        id="targetLanguage"
                        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                    </select>
                </div>
            </div>
            
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    Translation Mode
                </label>
                <div class="flex space-x-4">
                    <label class="inline-flex items-center">
                        <input
                            type="radio"
                            name="translationMode"
                            value="sentence"
                            class="form-radio h-4 w-4 text-blue-600"
                            checked
                        >
                        <span class="ml-2">Sentence</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input
                            type="radio"
                            name="translationMode"
                            value="paragraph"
                            class="form-radio h-4 w-4 text-blue-600"
                        >
                        <span class="ml-2">Paragraph</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input
                            type="radio"
                            name="translationMode"
                            value="entire"
                            class="form-radio h-4 w-4 text-blue-600"
                        >
                        <span class="ml-2">Entire Lesson</span>
                    </label>
                </div>
            </div>
            
            <div id="translateMessage" class="mb-6 p-4 rounded-md hidden"></div>
            
            <div class="mb-6">
                <button
                    id="translateBtn"
                    class="px-6 py-3 btn-blue text-white rounded-md shadow transition-colors"
                    disabled
                >
                    Translate
                </button>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h4 class="text-lg font-semibold mb-2">Original Text</h4>
                    <div id="originalText" class="border p-4 rounded-md bg-gray-50 h-96 overflow-y-auto">
                        <p class="text-gray-500 text-center">No lesson content available</p>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-2">Translated Text</h4>
                    <div id="translatedText" class="border p-4 rounded-md bg-gray-50 h-96 overflow-y-auto">
                        <p class="text-gray-500 text-center">Translation will appear here</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Drills Section -->
        <section id="drills" class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md hidden">
            <h2 class="text-2xl font-bold mb-6">Drill Exercises</h2>
            
            <h3 id="drillsLessonTitle" class="text-xl font-semibold mb-4">No lesson loaded</h3>
            
            <div id="drillInstructions" class="mb-6 p-4 bg-blue-100 text-blue-700 rounded-md hidden">
                <p id="drillInstructionsText"></p>
            </div>
            
            <div class="mb-6">
                <h4 class="text-lg font-semibold mb-2">Select a Drill Exercise:</h4>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <button
                        id="drill1Btn"
                        class="p-4 bg-purple-100 hover:bg-purple-200 text-purple-800 rounded-md transition-colors"
                    >
                        Drill 1: Listen and Follow
                    </button>
                    
                    <button
                        id="drill2Btn"
                        class="p-4 bg-orange-100 hover:bg-orange-200 text-orange-800 rounded-md transition-colors"
                    >
                        Drill 2: Highlight and Translate
                    </button>
                    
                    <button
                        id="drill3Btn"
                        class="p-4 bg-green-100 hover:bg-green-200 text-green-800 rounded-md transition-colors"
                    >
                        Drill 3: Read and Speak Simultaneously
                    </button>
                    
                    <button
                        id="drill4Btn"
                        class="p-4 bg-pink-100 hover:bg-pink-200 text-pink-800 rounded-md transition-colors"
                    >
                        Drill 4: Record Yourself
                    </button>
                    
                    <button
                        id="drill5Btn"
                        class="p-4 bg-blue-100 hover:bg-blue-200 text-blue-800 rounded-md transition-colors"
                    >
                        Drill 5: Develop Fluency
                    </button>
                </div>
            </div>
            
            <div id="drill1Instructions" class="mb-6 p-4 bg-gray-100 rounded-md hidden">
                <p>Listen to the lesson being read aloud and follow along with the text. This helps with comprehension and pronunciation.</p>
                <div class="mt-4">
                    <button
                        id="startDrill1Btn"
                        class="px-6 py-3 btn-purple text-white rounded-md shadow transition-colors"
                    >
                        Start Listening
                    </button>
                </div>
            </div>
            
            <div id="drill2Instructions" class="mb-6 p-4 bg-gray-100 rounded-md hidden">
                <p>Highlight words or phrases you don't understand, then translate them to your native language.</p>
                <div class="mt-4 flex space-x-4">
                    <button
                        id="highlightTextBtn"
                        class="px-6 py-3 btn-orange text-white rounded-md shadow transition-colors"
                    >
                        Highlight Text
                    </button>
                    <button
                        id="clearHighlightsBtn"
                        class="px-6 py-3 btn-gray text-white rounded-md shadow transition-colors"
                    >
                        Clear Highlights
                    </button>
                </div>
            </div>
            
            <div id="drill3Instructions" class="mb-6 p-4 bg-gray-100 rounded-md hidden">
                <p>Read the text aloud at the same time as the audio plays. This helps develop fluency and natural rhythm.</p>
                <div class="mt-4">
                    <button
                        id="startDrill3Btn"
                        class="px-6 py-3 btn-green text-white rounded-md shadow transition-colors"
                    >
                        Start Reading Together
                    </button>
                </div>
            </div>
            
            <div id="drill4Instructions" class="mb-6 p-4 bg-gray-100 rounded-md hidden">
                <p>Record yourself reading the lesson, then compare your pronunciation with the original audio.</p>
                <div id="recordingIndicator" class="mt-2 p-2 bg-red-100 text-red-700 rounded-md hidden text-center">
                    <span class="font-bold">🔴 RECORDING...</span>
                </div>
                <div class="mt-4 flex flex-wrap gap-2">
                    <button
                        id="startRecordingBtn"
                        class="px-6 py-3 btn-pink text-white rounded-md shadow transition-colors"
                    >
                        Start Recording
                    </button>
                    <button
                        id="stopRecordingBtn"
                        class="px-6 py-3 btn-red text-white rounded-md shadow transition-colors"
                        disabled
                    >
                        Stop Recording
                    </button>
                    <button
                        id="playRecordingBtn"
                        class="px-6 py-3 btn-blue text-white rounded-md shadow transition-colors"
                        disabled
                    >
                        Play Recording
                    </button>
                    <button
                        id="saveDrillRecordingBtn"
                        class="px-6 py-3 btn-green text-white rounded-md shadow transition-colors"
                        disabled
                    >
                        Save Recording
                    </button>
                    <button
                        id="reRecordBtn"
                        class="px-6 py-3 btn-gray text-white rounded-md shadow transition-colors"
                        disabled
                    >
                        Re-record
                    </button>
                    <button
                        id="shareDrillRecordingBtn"
                        class="px-6 py-3 btn-purple text-white rounded-md shadow transition-colors"
                        disabled
                    >
                        Share Recording
                    </button>
                </div>
            </div>
            
            <div id="drill5Instructions" class="mb-6 p-4 bg-gray-100 rounded-md hidden">
                <p>Develop fluency and measure it quantitatively using the fluency measurement tool.</p>
                <div class="mt-4">
                    <a
                        href="https://iwnkalha.manus.space/"
                        target="_blank"
                        class="inline-block px-6 py-3 btn-blue text-white rounded-md shadow transition-colors"
                    >
                        Open Fluency Measurement Tool
                    </a>
                </div>
            </div>
            
            <div id="drillsContent" class="border p-4 rounded-md bg-gray-50 h-96 overflow-y-auto">
                <p class="text-gray-500 text-center">Lesson content will appear here</p>
            </div>
        </section>

        <!-- Record Section -->
        <section id="record" class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md hidden">
            <h2 class="text-2xl font-bold mb-6">Record</h2>
            
            <h3 id="recordLessonTitle" class="text-xl font-semibold mb-4">No lesson loaded</h3>
            
            <div id="recordingWarning" class="mb-6 p-4 bg-yellow-100 text-yellow-700 rounded-md hidden">
                <p class="font-semibold">Recording Not Available</p>
                <p class="mt-2">Your browser may not support audio recording, or it may be restricted due to security settings. Try the following:</p>
                <ul class="list-disc pl-5 mt-2">
                    <li>Make sure your browser supports the MediaRecorder API (Chrome, Edge, and Firefox are recommended)</li>
                    <li>Allow microphone access when prompted</li>
                    <li>Check that your device has a working microphone</li>
                </ul>
            </div>
            
            <div class="mb-6 flex space-x-4">
                <button
                    id="startMainRecordingBtn"
                    class="px-6 py-3 btn-red text-white rounded-md shadow transition-colors"
                >
                    Start Recording
                </button>
                <button
                    id="stopMainRecordingBtn"
                    class="px-6 py-3 btn-gray text-white rounded-md shadow transition-colors"
                    disabled
                >
                    Stop Recording
                </button>
                <button
                    id="playMainRecordingBtn"
                    class="px-6 py-3 btn-blue text-white rounded-md shadow transition-colors"
                    disabled
                >
                    Play Recording
                </button>
                <button
                    id="saveRecordingBtn"
                    class="px-6 py-3 btn-green text-white rounded-md shadow transition-colors"
                    disabled
                >
                    Save Recording
                </button>
                <button
                    id="shareRecordingBtn"
                    class="px-6 py-3 btn-purple text-white rounded-md shadow transition-colors"
                    disabled
                >
                    Share Recording
                </button>
            </div>
            
            <div id="recordingsList" class="mb-6 hidden">
                <h4 class="text-lg font-semibold mb-2">Your Recordings</h4>
                <div id="recordingsContainer" class="border p-4 rounded-md bg-gray-50">
                    <p class="text-gray-500 text-center">No recordings yet</p>
                </div>
            </div>
            
            <div id="recordContent" class="border p-4 rounded-md bg-gray-50 h-96 overflow-y-auto">
                <p class="text-gray-500 text-center">No lesson content available</p>
            </div>
        </section>
    </main>

    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html> 